{% extends "base_layout.html" %}

{% block title %}Trading Strategy Dashboard{% endblock %}

{% block header_actions %}
<!-- Removed Portfolio page link -->
<!-- Clean Results button removed from header -->
{% endblock %}

{% block content %}
<div class="h-full">
    <!-- Portfolio Widget Section -->
    <div class="mb-8 max-w-[85rem] mx-auto w-full">
        {% include "widgets/portfolio/index.html" %}
    </div>
    <!-- Divider -->
    <div class="w-full flex justify-center mb-8">
        <div class="border-t border-slate-700 w-full max-w-[85rem]"></div>
    </div>
    <!-- Toolbar Card -->
    <div class="max-w-[85rem] mx-auto w-full mb-8">
        <div class="bg-slate-800 rounded-xl shadow p-6 flex justify-end gap-4">
            <button id="cleanResultsBtn" type="button" class="py-2 px-4 rounded border border-slate-600 text-white bg-slate-800 hover:bg-slate-700 flex items-center gap-2 whitespace-nowrap">
                <i class="fa-solid fa-trash"></i> Clean Results
            </button>
            <button id="openModalBtn" class="py-2 px-4 rounded bg-green-600 text-white hover:bg-green-700 flex items-center gap-2 whitespace-nowrap">
                <i class="fa-solid fa-plus"></i> Generate Report
            </button>
        </div>
    </div>
    <!-- Reports Area: Two Columns -->
    <div class="flex flex-col lg:flex-row gap-8 max-w-[85rem] mx-auto w-full">
        {% include "widgets/report/index.html" %}
    </div>
</div>

<!-- Add toast container at the bottom of the page -->
<div id="toast-container" class="fixed bottom-0 end-0 z-50 p-4"></div>
{% endblock %}

{% block scripts %}
<script type="module">
  import { initReport } from "/js/report.js";
  import { initPortfolio } from "/js/portfolio.js";
  initReport();
  initPortfolio();
</script>
{% endblock %} 