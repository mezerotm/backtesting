{% extends "base_layout.html" %}

{% block title %}Trading Strategy Dashboard{% endblock %}

{% block header_actions %}
<!-- Removed Portfolio page link -->
<!-- Clean Results button removed from header -->
{% endblock %}

{% block content %}
<div class="h-full">
    <!-- Portfolio Widget Section -->
    <div class="max-w-[85rem] mx-auto w-full">
        {% include "widgets/portfolio/index.html" %}
    </div>
    <!-- Divider -->
    <div class="max-w-[85rem] mx-auto w-full flex justify-center py-2">
        <div class="border-t border-slate-700 w-full"></div>
    </div>
    <!-- Trades Widget Section -->
    <div class="max-w-[85rem] mx-auto w-full">
        {% include "widgets/trades/index.html" %}
    </div>
    <!-- Divider -->
    <div class="max-w-[85rem] mx-auto w-full flex justify-center py-2">
        <div class="border-t border-slate-700 w-full"></div>
    </div>
    <!-- Dividends Widget Section -->
    <div class="max-w-[85rem] mx-auto w-full">
        {% include "widgets/dividends/index.html" %}
    </div>
    <!-- Divider -->
    <div class="max-w-[85rem] mx-auto w-full flex justify-center py-2">
        <div class="border-t border-slate-700 w-full"></div>
    </div>
    <!-- Profit/Loss Widget Section -->
    <div class="max-w-[85rem] mx-auto w-full">
        {% include "widgets/profit_loss/index.html" %}
    </div>
    <!-- Divider -->
    <div class="max-w-[85rem] mx-auto w-full flex justify-center py-2">
        <div class="border-t border-slate-700 w-full"></div>
    </div>
    <!-- Reports Area: Two Columns -->
    <div class="max-w-[85rem] mx-auto w-full">
        {% include "widgets/report/index.html" %}
    </div>
</div>

<!-- Add toast container at the bottom of the page -->
<div id="toast-container" class="fixed bottom-0 end-0 z-50 p-4"></div>
{% endblock %}

{% block scripts %}
<script type="module">
  import { initReport } from "/js/report.js";
  import { initPortfolio } from "/js/portfolio.js";
  import { initTrades } from "/js/trades.js";
  import { initDividends } from "/js/dividends.js";
  import { initProfitLoss } from "/js/profit_loss.js";
  initReport();
  initPortfolio();
  initTrades();
  initDividends();
  initProfitLoss();
</script>
{% endblock %} 