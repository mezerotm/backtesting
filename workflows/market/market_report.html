<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Analysis Report</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <style>
        body {
            background-color: rgb(13, 18, 30);
            color: rgb(148, 163, 184);
        }
        .chart-container {
            background-color: rgb(15, 23, 42);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .chart-title {
            color: rgb(148, 163, 184);
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body class="min-h-screen p-8">
    <div class="max-w-7xl mx-auto">
        <header class="mb-8">
            <h1 class="text-3xl font-bold text-white mb-2">Market Analysis Report</h1>
            <p class="text-gray-400">Generated on {{ generated_at }}</p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- GDP Chart -->
            <div class="chart-container">
                <h2 class="chart-title">GDP Growth</h2>
                <iframe src="{{ gdp_chart_path }}" class="w-full h-[400px]" frameborder="0"></iframe>
            </div>

            <!-- Inflation Chart -->
            <div class="chart-container">
                <h2 class="chart-title">Inflation Rate</h2>
                <iframe src="{{ inflation_chart_path }}" class="w-full h-[400px]" frameborder="0"></iframe>
            </div>

            <!-- Unemployment Chart -->
            <div class="chart-container">
                <h2 class="chart-title">Unemployment Rate</h2>
                <iframe src="{{ unemployment_chart_path }}" class="w-full h-[400px]" frameborder="0"></iframe>
            </div>

            <!-- Bond Chart -->
            <div class="chart-container">
                <h2 class="chart-title">Treasury Yields</h2>
                <iframe src="{{ bond_chart_path }}" class="w-full h-[400px]" frameborder="0"></iframe>
            </div>
        </div>

        <!-- Market Analysis -->
        <div class="mt-8 bg-gray-800 rounded-lg p-6">
            <h2 class="text-2xl font-bold text-white mb-4">Market Analysis</h2>
            
            <!-- GDP Analysis -->
            <div class="mb-6">
                <h3 class="text-xl font-semibold text-white mb-2">GDP Growth Analysis</h3>
                <p class="text-gray-400">
                    {% if gdp_data['values'] and gdp_data['values']|length > 0 %}
                        {% set latest_gdp = gdp_data['values'][-1] %}
                        {% if latest_gdp > 0 %}
                        The economy shows positive growth with a {{ "%.1f"|format(latest_gdp) }}% increase in the latest quarter.
                        {% else %}
                        The economy shows negative growth with a {{ "%.1f"|format(latest_gdp) }}% decrease in the latest quarter.
                        {% endif %}
                    {% else %}
                        GDP growth data is not available.
                    {% endif %}
                </p>
            </div>

            <!-- Inflation Analysis -->
            <div class="mb-6">
                <h3 class="text-xl font-semibold text-white mb-2">Inflation Analysis</h3>
                <p class="text-gray-400">
                    {% if inflation_data['values'] and inflation_data['values']|length > 0 %}
                        {% set latest_inflation = inflation_data['values'][-1] %}
                        {% if latest_inflation > 2 %}
                        Inflation remains elevated at {{ "%.1f"|format(latest_inflation) }}%, above the target rate of 2%.
                        {% else %}
                        Inflation is at {{ "%.1f"|format(latest_inflation) }}%, below the target rate of 2%.
                        {% endif %}
                    {% else %}
                        Inflation data is not available.
                    {% endif %}
                </p>
            </div>

            <!-- Unemployment Analysis -->
            <div class="mb-6">
                <h3 class="text-xl font-semibold text-white mb-2">Unemployment Analysis</h3>
                <p class="text-gray-400">
                    {% if unemployment_data['values'] and unemployment_data['values']|length > 0 %}
                        {% set latest_unemployment = unemployment_data['values'][-1] %}
                        The unemployment rate stands at {{ "%.1f"|format(latest_unemployment) }}%, 
                        {% if latest_unemployment < 4 %}
                        indicating a tight labor market.
                        {% else %}
                        suggesting some slack in the labor market.
                        {% endif %}
                    {% else %}
                        Unemployment data is not available.
                    {% endif %}
                </p>
            </div>

            <!-- Bond Analysis -->
            <div class="mb-6">
                <h3 class="text-xl font-semibold text-white mb-2">Bond Market Analysis</h3>
                <p class="text-gray-400">
                    {% if bond_data['values'] and bond_data['values']|length > 0 %}
                        {% set latest_bond = bond_data['values'][-1] %}
                        The 10-year Treasury yield is at {{ "%.2f"|format(latest_bond) }}%, 
                        {% if latest_bond > 4 %}
                        reflecting higher long-term interest rates.
                        {% else %}
                        indicating relatively low long-term interest rates.
                        {% endif %}
                    {% else %}
                        Bond yield data is not available.
                    {% endif %}
                </p>
            </div>
        </div>
    </div>
</body>
</html> 